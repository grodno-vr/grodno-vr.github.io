["cd57fc411163e683c82150966e1374e35a43a30a","f922fb4684af7ad02a7cd0c46086802a0a83471e",["../Loaders/WavefrontOBJ/MTLLoader","../Loaders/WavefrontOBJ/OBJLoader","three","../Utils/extractURL"],[91,152,209,251],{"version":3,"sources":["/home/archik/projects/grodno-vr.github.io/node_modules/react-vr-web/js/Loaders/ObjModelLoader.js"],"names":["ObjMeshInstance","value","parent","litMaterial","unlitMaterial","_lit","_objURL","_mtlURL","_objState","_update","_view","_mesh","_litMaterial","_unlitMaterial","hasOwnProperty","resource","obj","url","Error","JSON","stringify","_setOBJ","mtl","_setMTL","remove","dispose","then","state","_updateMeshes","add","console","error","catch","err","_materialMap","material","type","children","forEach","c","map","previousGroup","fallbackMaterial","group","index","objects","geometry","position","length","materials","filter","m","startGroup","endGroup","bufferGeometry","addAttribute","Float32Array","setIndex","Uint32Array","hasUVs","uv","hasNormals","normal","computeVertexNormals","hasVertexColors","color","vertexColors","_getMaterial","name","flatShading","smooth","multi","i","end","addGroup","mtr","push","mesh","lit","unlit","definition","flag","changed","timeStamp","deltaTime","ObjModelLoader"],"mappings":"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","file":"ObjModelLoader.js","sourcesContent":[""]}]