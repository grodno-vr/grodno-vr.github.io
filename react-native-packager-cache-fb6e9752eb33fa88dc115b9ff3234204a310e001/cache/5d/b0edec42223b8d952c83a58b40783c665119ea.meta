["ecc4372a8e476b550b3da8f436dba4dbe5368354","73f2c6f42e22999530023a13a1b5f04f4dd06038",["./RayCaster"],[921],{"version":3,"sources":["/home/archik/projects/grodno-vr.github.io/node_modules/ovrui/lib/Inputs/MouseRayCaster.js"],"names":["Object","defineProperty","exports","value","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","key","Constructor","protoProps","staticProps","prototype","_RayCaster2","require","_RayCaster3","_interopRequireDefault","obj","__esModule","default","_classCallCheck","instance","TypeError","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","create","constructor","setPrototypeOf","__proto__","ORIGIN","MouseRayCaster","_RayCaster","_this","getPrototypeOf","_lastX","_lastY","_lastOrientation","touchReleaseDelay","_active","_handleMouseEvent","bind","_handleTouchEvent","_handleTouchEnd","_resetLastReading","document","addEventListener","window","e","display","isPresenting","width","body","clientWidth","height","clientHeight","x","clientX","y","clientY","targetTouches","rawTouch","_endTouch","_touchReleaseTimeout","clearTimeout","setTimeout","_clearTouchReleaseTimeout","getType","getRayOrigin","getRayDirection","camera","fov","Math","PI","tan","aspect","mag","sqrt","drawsCursor"],"mappings":"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","file":"MouseRayCaster.js","sourcesContent":[""]}]